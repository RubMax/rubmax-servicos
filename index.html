<!DOCTYPE html>
<html lang="fr">
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no">
  <title>RubMaxApp</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
<!-- Manifest -->
<link rel="manifest" href="manifest.json">
<!-- Meta pour Android -->
<meta name="theme-color" content="#ffffff">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">


</head>
<body>
  <!-- Bouton personnalisé d'installation -->
<div id="installPrompt" style="display:none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #222; color: #fff; padding: 10px 20px; border-radius: 10px; z-index: 9999;">
  <span>Installer l'application ?</span>
  <button id="installBtn" style="margin-left:10px;">Oui</button>
</div>
  <!-- En-tête fixe -->
  <div class="fixed-header">
    <div class="logo-container" style="display: flex">
      <img src="https://iili.io/FNamHlf.png" alt="Votre Logo" class="logo-img"> 
      
    </div>

    <div class="nav-scroll-container" id="nav-container">
      <div id="section-nav" class="section-nav"></div>
    </div>
  </div>
<br>
  <!-- Contenu principal -->
  <div class="container main-content">
    <div id="produits"></div>
  </div>

  <!-- Popup avec galerie d'images -->
  <div id="popup" class="popup">
    <span class="popup-close" onclick="closePopup()">&times;</span>
    <div class="gallery-container">    
      <div class="image-gallery">
        <div class="gallery-images" id="gallery-images"></div>
        <div class="gallery-nav">
          <button class="gallery-btn" onclick="prevImage()">❮</button>
          <button class="gallery-btn" onclick="nextImage()">❯</button>
        </div>
      </div>
      <div class="gallery-dots" id="gallery-dots"></div>
    </div>
    <div id="popup-details" class="popup-content"></div>
  </div>
  
  <!-- Description Popup -->
  <div id="description-popup" class="description-popup">
    <div class="description-popup-content">
      <span class="description-popup-close" onclick="closeDescriptionPopup()">&times;</span>
      <div id="description-content"></div>
    </div>
  </div>

   <!-- Pub Popup -->
  <div id="pub-popup" class="pub-popup">
    <div class="pub-content">
      <button class="pub-close" onclick="closePubPopup()">&times;</button>
      <div id="pub-container"></div>
      <div class="pub-nav-dots" id="pub-dots"></div>
    </div>
  </div>

  <!-- Pied depage -->
  <div id="ped de page">
    <center>
         <div class="footer-card">
        
        <div class="info-grid">
            <div class="info-box">
                <h2 class="info-title"><i class="fas fa-building"></i> Informações</h2>
                <div class="info-content">
                  <p><strong>RubMax serviço</strong></p>
                    <p><strong>CNPJ:</strong> 40.082.272/0001-00</p>
                    <p><strong>Endereço:</strong> Av. Bento Guelfi, 1260</p>
                    <p><strong>Bairro:</strong> Jardim das Laranjeiras (Zona Leste)</p>
                    <p><strong>CEP:</strong> 08381-001 <strong>Cidade:</strong> SP-São Paulo</p>
                </div>
            </div>
            
            <div class="info-box">
                <h2 class="info-title"><i class="fas fa-address-card"></i> Contactos</h2>
                <div class="info-content">
                    <ul class="link-list">
                        <li class="link-item">
                            <i class="fas fa-envelope"></i>
                            <strong>E-mail:</strong> <a href="mailto:rubmaxben@gmail.com">rubmaxben@gmail.com</a>
                        </li>
                        <li class="link-item">
                            <i class="fab fa-whatsapp"></i>
                            <strong>Whatsapp:</strong> <a href="https://wa.me/5511916204805">(11) 9 1620-4805</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        </center>
        <div class="social-links">
            <a href="https://rubmax.github.io/br/" class="social-link website-link" target="_blank">
                <i class="fas fa-globe"></i> Website Oficial
            </a>
            <br>
            <a href="https://bit.ly/RubMax-Servicos-Facebook" class="social-link facebook-link" target="_blank">
                <i class="fab fa-facebook-f"></i> Página no Facebook
            </a>
            <br>
            <a href="https://bit.ly/RubMaxServicos-On-Google-Maps" class="social-link google-link1" target="_blank">
                <i class="fab fa-google"></i> Google Maps
            </a>
            <br>
            <a href="https://bit.ly/rubmax-site" class="social-link google-link2" target="_blank">
                <i class="fab fa-google"></i> Google site
            </a>
        </div>
        
        <div class="copyright" style="text-align: center;">
            &copy; 2020 RubMax Servicos - Todos os direitos reservados
        </div>
    </div>
    
    <br>
  </div>
  <script src="script.js"></script>
  <script src="install.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js')
      .then(reg => console.log('Service Worker enregistré', reg))
      .catch(err => console.error('Erreur SW', err));
  }
</script>
  <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(reg => console.log("SW enregistré :", reg))
      .catch(err => console.error("SW échec :", err));
  }

  let deferredPrompt;
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;

    const installPopup = document.createElement('div');
    installPopup.innerHTML = `
      <div style="position:fixed;bottom:20px;left:20px;right:20px;background:white;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,0.2);z-index:9999;border-radius:10px;text-align:center;">
        <p>Voulez-vous installer l'application RubMax ?</p>
        <button id="installBtn" style="padding:10px 20px;background:#0084ff;color:white;border:none;border-radius:5px;">Installer</button>
      </div>`;
    document.body.appendChild(installPopup);

    const installBtn = document.getElementById('installBtn');
    if (installBtn) {
      installBtn.addEventListener('click', () => {
        installPopup.remove();
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then(choiceResult => {
          if (choiceResult.outcome === 'accepted') {
            console.log('Installation acceptée');
          } else {
            console.log('Installation refusée');
          }
          deferredPrompt = null;
        });
      });
    }
  });
</script>

</body>
</html>
